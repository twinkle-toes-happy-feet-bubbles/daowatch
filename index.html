<!DOCTYPE html>
<html lang="en">
<head>
   <meta charset="UTF-8">
   <meta http-equiv="X-UA-Compatible" content="IE=edge">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title>DAO Watch Blog</title>
   <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    <link rel="stylesheet" href="style.css">
   
</head>
<body>
   <div class="mainSplash">
    <h1 id="mainTitle">THE DAO WATCH BLOG</h1>
   
    <div class="subHead black">
      <h2>Decentralise</h2>
      <h2>Automate</h2>
      <h2>Organise</h2>
    </div>
    
   </div>

    <div class="container mt-5 pt-5" id="medium">
      <div class="jumbotron text-center">
          <div id="logo"></div>
          <h1 class="display-4 mb-3">Cryptosi's Blog</h1>
          <a class="btn btn-outline-primary btn-lg" href="https://medium.com/@cryptosixxx" target="_blank" role="button">Check it out</a>
      </div>
      <div class="row" id="jsonContent">
      </div>
  </div>


      <ul id="pagin" class="pagination justify-content-center">
      </ul>

  <div class="text-center">
      <div class="mb-5">
          <a class="btn btn-outline-primary btn-lg mb-5" href="https://medium.com/@cryptosixxx">View all Posts</a>
      </div>
  </div>
  <div class="container mt-5 pt-5" id="medium">
  <h2 class="card-title text-center">DAO Watch Videos</h2>
  <br>
  <p>Learn more about DAOs by browsing the DAO watch videos</p>
   <br>
   <hr style="color: blue">
    <div class="tubeBox">
      <p id="video-title">Lorem ipsum</p>
      <img class="latestImageEmbed" vnum="0" cid="UCcOzf3f6ZWVlIu-6qQpjudA" width="300px" height="200px" onclick="ImgToVid()">
      <iframe class="latestVideoEmbed video" vnum='0' cid="UCcOzf3f6ZWVlIu-6qQpjudA" frameborder="0" allowfullscreen></iframe>
  </div>
      
  <div class="tubeBox">
      <p id="video-title">Lorem ipsum</p>
      <img class="latestImageEmbed" vnum="1" cid="UCcOzf3f6ZWVlIu-6qQpjudA" width="600" height="340" onclick="ImgToVid()">
      <iframe class="latestVideoEmbed video" vnum='1' cid="UCcOzf3f6ZWVlIu-6qQpjudA" frameborder="0" allowfullscreen></iframe>
  </div>

  <div class="tubeBox">
      <p id="video-title">Lorem ipsum</p>
      <img class="latestImageEmbed" vnum="2" cid="UCcOzf3f6ZWVlIu-6qQpjudA" width="300px" height="200px" onclick="ImgToVid()">
      <iframe class="latestVideoEmbed video" vnum='2' cid="UCcOzf3f6ZWVlIu-6qQpjudA" frameborder="0" allowfullscreen></iframe>
  </div>
  <br>

  <div class="text-center">
   <div class="mb-5">
       <a class="btn btn-outline-primary btn-lg mb-5" href="https://www.youtube.com/channel/UCcOzf3f6ZWVlIu-6qQpjudA">Watch more</a>
   </div>
</div>
</div>

<div class="bookDiv text-center">
   <div class="left">
     <img src="cryptosibook.webp">
   </div>
   <div class="right">
     <div class="top-right">
    <h2>The Ultimate DAO Handbook</h2>
    <p>Show how serious you are about DAOs, grab yourself the Ultimate DAO Handbook, while stocks last</p>
    
   </div>
     <div class="bottom-right">
      <div class="text-center">
         <div class="mb-5">
             <a class="btn btn-outline-primary btn-lg mb-5" href="#">COMMING SOON</a>
         </div>
      </div>
     </div>
   </div>
 </div>


 <div class="mainSplash text-center">
   <h1 id="mainTitle">Join our Discord</h1>
   <h6>Join the Crypto SI discord, to become part of a forward thinking, educated and ambitious community, plenty of new projects to learn about and get involved with</h6>
   <br>
   <div class="text-center">
      <div class="mb-5">
          <a class="btn btn-primary btn-lg mb-5" href="#">JOIN NOW</a>
      </div>
   </div>


   <div class="subHead mb-3">
     <a href="https://www.instagram.com/cryptosi.eth/">Instagram</a>
     <a href="https://twitter.com/Crypto_SI">Twitter</a>
     <a href="https://www.cryptosi.com/">Website</a>
     <a href="https://www.youtube.com/channel/UCcOzf3f6ZWVlIu-6qQpjudA">Youtube</a>
   </div>
   

   <hr>
      <h4 class="text-center" style="color: black;">Copyright - Crypto SI 2023</h4>
      <br>
  </div>


<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>

       <script>
          $(function () {
            var mediumPromise = new Promise(function (resolve) {
            var $content = $('#jsonContent');
            var data = {
                rss: 'https://medium.com/feed/@cryptosixxx'
            };
            $.get('https://api.rss2json.com/v1/api.json?rss_url=https%3A%2F%2Fmedium.com%2Ffeed%2F%40cryptosixxx', data, function (response) {
                if (response.status == 'ok') {
                    $("#logo").append(`<img src="${response.feed["image"]}" class="rounded mx-auto d-block">`)
                    var output = '';
                    $.each(response.items, function (k, item) {
                        output += `<div class="card mb-3 mx-auto mr-5 " style="width: 20rem;">`;
                        var tagIndex = item.description.indexOf('<img'); // Find where the img tag starts
                        var srcIndex = item.description.substring(tagIndex).indexOf('src=') + tagIndex; // Find where the src attribute starts
                        var srcStart = srcIndex + 5; // Find where the actual image URL starts; 5 for the length of 'src="'
                        var srcEnd = item.description.substring(srcStart).indexOf('"') + srcStart; // Find where the URL ends
                        var src = item.description.substring(srcStart, srcEnd); // Extract just the URL
                        output += `<img src="${src}" class="card-img-top" alt="Cover image">`;
                        output += `<div class="card-body">`;
                        output += `<h5 class="card-title"><a href="${item.link}">${item.title}</a></h5>`;
                        var yourString = item.description.replace(/<img[^>]*>/g,""); //replace with your string.
                        yourString = yourString.replace('h4', 'p');
                        yourString = yourString.replace('h3', 'p');
                        var maxLength = 120; // maximum number of characters to extract
                        //trim the string to the maximum length
                        var trimmedString = yourString.substr(0, maxLength);
                        //re-trim if we are in the middle of a word
                        trimmedString = trimmedString.substr(0, Math.min(trimmedString.length, trimmedString.lastIndexOf(" ")))
                        output += `<p class="card-text">${trimmedString}...</p>`;
                        output += `<a href="${item.link}" class="btn btn-outline-success">Read More</a>`;
                        output += '</div></div>';
                        return k < 10;
                    });
                    resolve($content.html(output));
                }
            });
            });

mediumPromise.then(function()
            {
                //Pagination
                pageSize = 3;

                var pageCount = $(".card").length / pageSize;

                for (var i = 0; i < pageCount; i++) {
                    $("#pagin").append(`<li class="page-item"><a class="page-link" href="#">${(i + 1)}</a></li> `);
                }
                $("#pagin li:nth-child(1)").addClass("active");
                showPage = function (page) {
                    $(".card").hide();
                    $(".card").each(function (n) {
                        if (n >= pageSize * (page - 1) && n < pageSize * page)
                            $(this).show();
                    });
                }

                showPage(1);

                $("#pagin li").click(function () {
                    $("#pagin li").removeClass("active");
                    $(this).addClass("active");
                    showPage(parseInt($(this).text()))
                });
            });
        });


       </script>





        <script>
            var reqURL = "https://api.rss2json.com/v1/api.json?rss_url=" + encodeURIComponent("https://www.youtube.com/feeds/videos.xml?channel_id=");
            
    var iframes = document.getElementsByClassName('latestVideoEmbed');
    var imgframes = document.getElementsByClassName('latestImageEmbed');
            //load img
            function loadImage(imgframe) {
  $.getJSON(reqURL + imgframe.getAttribute('cid'),
    function(data) {
      var imageNumber = (imgframe.getAttribute('vnum') ? Number(imgframe.getAttribute('vnum')) : 0);
      console.log(imageNumber);
      var link = data.items[imageNumber].link;
      var title=data.items[imageNumber].title;
      id = link.substr(link.indexOf("=") + 1);
      imgframe.setAttribute("src", "https://i1.ytimg.com/vi/" + id + "/sddefault.jpg");//http://i1.ytimg.com/vi/<insert-YouTube -video-id-here>/[Thumnail-Size].jpg
      imgframe.parentElement.querySelector("#video-title").innerText = title;
    }
  );
}

var imgframes = document.getElementsByClassName('latestImageEmbed');
for (var i = 0, len = imgframes.length; i < len; i++) {
  loadImage(imgframes[i]);
}

//turn image to video
function ImgToVid(){
    
    var iframes = document.getElementsByClassName('latestVideoEmbed');
    var imgframes = document.getElementsByClassName('latestImageEmbed');
    for (var i = 0, len = iframes.length; i < len; i++) {
        loadVideo(iframes[i]);
        iframes[i].style.display='block';
        imgframes[i].style.display='none';
    }

    
    
}

            //load video
function loadVideo(iframe) {
  $.getJSON(reqURL + iframe.getAttribute('cid'),
    function(data) {
      var videoNumber = (iframe.getAttribute('vnum') ? Number(iframe.getAttribute('vnum')) : 0);
      console.log(videoNumber);
      var link = data.items[videoNumber].link;
      var title=data.items[videoNumber].title;
      id = link.substr(link.indexOf("=") + 1);
      iframe.setAttribute("src", "https://youtube.com/embed/" + id + "?controls=0&autoplay=1");
      iframe.parentElement.querySelector("#video-title").innerText = title;
    }
  );
}



   </script>
   <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
   <script src="script.js"></script>
</body>
</html>
